<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/morris.js/0.5.1/morris.css">
<script src="http://omnipotent.net/jquery.sparkline/2.1.2/jquery.sparkline.min.js"></script>


<div class="row">
    <div class="col-lg-6">
        <div class="panel">
            <div class="panel-heading">
                <div class="panel-control"></div>
                <h3 class="panel-title"><%= I18n.t('dashboard_open_trades') %></h3>
            </div>
            <div class="panel-body">
                <div class="pad-btm form-inline">
                    <div class="col-sm-6 table-toolbar-left">
                        <%= link_to new_dashboard_path, remote: true,  :data => { :toggle => 'modal', :target => 'myModal' } do %>
                          <button class="btn btn-purple btn-labeled fa fa-plus"><%= I18n.t('dashboard_button_trades') %></button>
                        <% end %>                        
                    </div>
                    <div class="col-sm-6 table-toolbar-right"></div>
                </div>
                <div id='trades'>
                    <%= render 'trade' %>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">                         
                <div id="trade-form" ></div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>

    <div class="col-lg-6">
        <div class="row">
            <div class="col-sm-6 col-lg-6">
                <div class="panel panel-mint panel-colorful">
                    <div class="pad-all media">
                        <div class="media-left">
                            <span class="icon-wrap icon-wrap-xs">
                                <i class="fa fa-comment fa-3x"></i>
                            </span>
                        </div>
                        <div class="media-body">
                            <p class="h3 text-thin media-heading">58%</p>
                            <small class="text-uppercase">comments</small>
                        </div>
                    </div>
                    <div class="progress progress-xs progress-dark-base mar-no">
                        <div class></div>
                    </div>
                    <div class="pad-all text-right">
                        <small>
                            <span class="text-semibold">
                                <i class="fa fa-unlock-alt fa-fw"></i>
                                312
                            </span>
                             Unapproved comments
                        </small>
                    </div>
                </div>
            </div>
            <div class="col-sm-6 col-lg-6">
                <div class="panel panel-purple panel-colorful">
                    <div class="pad-all media">
                        <div class="media-left">
                            <span class="icon-wrap icon-wrap-xs">
                                <i class="fa fa-comment fa-3x"></i>
                            </span>
                        </div>
                        <div class="media-body">
                            <p class="h3 text-thin media-heading">63%</p>
                            <small class="text-uppercase">comments</small>
                        </div>
                    </div>
                    <div class="progress progress-xs progress-dark-base mar-no">
                        <div class></div>
                    </div>
                    <div class="pad-all text-right">
                        <small>
                            <span class="text-semibold">
                                <i class="fa fa-unlock-alt fa-fw"></i>
                                312
                            </span>
                             Unapproved comments
                        </small>
                    </div>
                </div>
            </div>
        </div>
        <div class="panel">
            <div class="panel-heading">
                <div class="panel-control"></div>
                <h3 class="panel-title">Services</h3>
            </div>
            <div class="panel-body">
                <div class="row">
                    <div class="col-sm-6 text-center">
                        <div class="morris-donut" id="demo-morris-donut"></div>
                    </div>
                    <div class="col-sm-6"></div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- /.row -->
<div class="row">
    <div class="col-lg-3">
        <div class="panel">
            <div class="panel-heading">
                <div class="panel-control">
                    <%= link_to new_dashboard_path, remote: true,  :data => { :toggle => 'modal', :target => 'myModal' } do %>
                      <button class="btn btn-default btn-xs"><%= I18n.t('dashboard_button_trades') %></button>
                    <% end %>
                </div>
                <h3>
                    <%= I18n.t('dashboard_open_trades') %>
                </h3>
            </div>
            <!-- /.panel-body -->
            <div class="panel-body">
                <div class="row">
                    <div class="col-lg-12">
                        <div id=''>

                        </div>
                    </div>
                </div>                  
            </div>
                <!-- /.panel -->
        </div>
    </div>
    <div class="col-lg-6">
        <div class="panel">
            <div class="panel-heading">
                <h3>
                    <%= I18n.t('dashboard_week_performance') %>
                </h3>
            </div>
            <div style="overflow:hidden">
                <div id="morris-chart-network" class="morris-full-content" style="position: relative; -webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
                </div>
            </div>
            <div class="panel-body bg-primary" style="position:relative;z-index:2">
                <div class="row">
                    <div class="col-lg-6">
                        <div class="row">
                            <div class="col-xs-8">
                                <div class="pad-ver media">
                                    <div class="media-left">
                                        <span class="icon-wrap icon-wrap-xs">
                                            <i class="fa fa-cloud fa-2x"></i>
                                        </span>
                                    </div>
                                </div>
                                <div class="media-body">
                                    <p class="h3 text-thin media-heading">30%</p>
                                    <small class="text-uppercase">Server Load</small>
                                </div>
                            </div>
                            <div class="col-xs-4">
                                <div class="text-center">
                                    <span class="text-3x text-thin">43</span>
                                    <p>User Online</p>
                                </div>
                            </div>
                        </div>
                        <div class="mar-ver">
                            <small class="pad-btm">
                                <em>* Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. Ut wisi enim ad minim veniam.</em>
                            </small>
                        </div>
                    </div>
                    <div class="col-lg-6">
                        <ul class="list-group bg-trans mar-no">
                            <li class="list-group-item">
                                <div id="demo-chart-visitors" class="pull-right"></div>
                                Visitators
                            </li>
                            <li class="list-group-item">
                                <div id="demo-chart-bounce-rate" class="pull-right"></div>
                                Bounce rate
                            </li>
                            <li class="list-group-item">
                                <span class="badge badge-success">11</span>
                                Today Sales
                            </li>
                            <li class="list-group-item">
                                <span class="badge badge-warning">20</span>
                                Broken list found
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-lg-3">


        <div class="panel">
            <div class="panel-heading">
                <div class="panel-control">
                </div>
                <h3>
                    <%= I18n.t('dashboard_today_performance') %>
                </h3>
            </div>

            <!-- /.panel-body -->
            <div class="panel-body">
             <div class="row">
                <div class="col-sm-6 col-lg-6">
                    <div classs="panel panel-success panel-colorful text-center">
                        <div class="panel-body">
                            <!--div id="demo-sparkline-area"></div-->
                             <%= content_tag :div, "", id: "performance_today_chart", data: {trades: today_trades_chart_data } %>

                        </div>
                        <div class="bg-light pad-ver">
                            <h4 class="mar-no text-thin">
                                 <%= I18n.t('dashboard_effective') %> 
                            </h4>
                        </div>
                    </div>
                </div>
                <div class="col-sm-6 col-lg-6">
                    <div classs="panel panel-success panel-colorful text-center">
                        <div class="panel-body">
                            <div id="demo-sparkline-line"></div>
                        </div>
                        <div class="bg-light pad-ver">
                            <h4 class="mar-no text-thin">
                               <%= I18n.t('dashboard_effective') %> 
                            </h4>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-6 col-lg-6">
                    <div classs="panel panel-success panel-colorful text-center">
                        <div class="panel-body">

                        </div>
                        <div class="bg-light pad-ver">
                            <h4 class="mar-no text-thin">
                                <%= I18n.t('dashboard_effective') %> 
                            </h4>
                        </div>
                    </div>
                </div>
                <div class="col-sm-6 col-lg-6">
                    <div classs="panel panel-success panel-colorful text-center">
                        <div class="panel-body">

                        </div>
                        <div class="bg-light pad-ver">
                            <h4 class="mar-no text-thin">
                                <%= I18n.t('dashboard_effective') %> 
                            </h4>
                        </div>
                    </div>
                </div>
            </div>           
            </div>
                <!-- /.panel -->
        </div>


    </div>
</div>

 <!--<%= content_tag :div, "", id: "performance_today_chart", data: {trades: today_trades_chart_data } %> -->

<!-- /.row -->
<div class="row">

    <div class="col-lg-3">
 
        <!-- /.panel -->
        <div class="panel panel-default">
            <div class="panel-heading">
                <i class="fa fa-bar-chart-o fa-fw"></i> <%= I18n.t('dashboard_trade_close') %> 
            </div>

            <div class="panel-body">
               
            </div>
        </div>      

    </div>
    <div class="col-lg-3">
        <div class="panel panel-default">
            <div class="panel-heading">
                <i class="fa fa-bar-chart-o fa-fw"></i> <%= I18n.t('dashboard_last_5_trades') %> 
            </div>
            <div class="panel-body">
                <!-- <%= content_tag :div, "", id: "performance_last_days_profit_chart", data: {trades: profit_chart_data(5.days.ago) } %> -->
            </div>
        </div>
    </div>
    <div class="col-lg-3">
        <div class="panel panel-default">
            <div class="panel-heading">
                <i class="fa fa-bar-chart-o fa-fw"></i> <%= I18n.t('dashboard_last_5_day') %>
            </div>
            <div class="panel-body">
                <!--<%= content_tag :div, "", id: "performance_last_days_trades_chart", data: {trades: trades_chart_data(5.days.ago) } %> -->
            </div>
        </div>
    </div>
    <div class="col-lg-3">
        <div class="panel panel-default">
            <div class="panel-heading">
                <i class="fa fa-bar-chart-o fa-fw"></i> <%= I18n.t('dashboard_last_5_profit') %>
            </div>
            <div class="panel-body">
                <div id="container" style="min-width: 310px; height: 400px; margin: 0 auto"></div>
            </div>
        </div>
    </div>
</div>
<!-- /.row -->

<div class="row">
    <div class="col-lg-12">
       
    </div>
</div>

<script type="text/javascript">
    /*$('#container').highcharts({
        credits: {                                                                                               
          enabled: false                                                                                         
        },
        title: {
            text: '',
        },
        
        xAxis: {
        
           categories: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun',
                'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
            labels: {
                enabled: false
            }
        },
        yAxis: {
            title: {
                text: 'Total Trades'
            },
            plotLines: [{
                value: 0,
                width: 1,
                color: '#808080'
            }],
            labels: {
                enabled: false
            }
        },
        tooltip: {
            valueSuffix: '°C'
        },
        legend: {
            layout: 'vertical',
            align: 'right',
            verticalAlign: 'middle',
            borderWidth: 0
        },
        series: [{
            name: 'WIN',
            data: [7.0, 6.9, 9.5, 14.5, 18.2, 21.5, 25.2, 26.5, 23.3, 18.3, 13.9, 9.6]
        }, {
            name: 'TIE',
            data: [-0.2, 0.8, 5.7, 11.3, 17.0, 22.0, 24.8, 24.1, 20.1, 14.1, 8.6, 2.5]
        }, {
            name: 'LOST',
            data: [-0.9, 0.6, 3.5, 8.4, 13.5, 17.0, 18.6, 17.9, 14.3, 9.0, 3.9, 1.0]
        }]
    });*/

    /*$("#demo-sparkline-area").sparkline([57,69,70,68,73,76,75,79,73,76,77,73], {
        type: 'line',
        width: '110',
        height: '50',
        spotRadius: 2.5,
        lineWidth:1.5,
        lineColor:'rgba(255,255,255,.5)',
        fillColor: 'rgba(0,0,0,0.2)',
        spotColor: 'rgba(255,255,255,.5)',
        minSpotColor: 'rgba(255,255,255,.5)',
        maxSpotColor: 'rgba(255,255,255,.5)',
        highlightLineColor : '#ffffff',
        highlightSpotColor: '#ffffff',
        tooltipChartTitle: 'Usage',
        tooltipSuffix:' %'

    });

    // EARNING - SPARKLINE LINE CHART
    // =================================================================
    // Require sparkline
    // -----------------------------------------------------------------
    // http://omnipotent.net/jquery.sparkline/#s-about
    // =================================================================
    $("#demo-sparkline-line").sparkline([345,404,305,455,378,767], {
        type: 'line',
        width: '110',
        height: '50',
        spotRadius: 2.5,
        lineWidth:1.5,
        lineColor:'#ffffff',
        fillColor: false,
        minSpotColor :false,
        maxSpotColor : false,
        highlightLineColor : '#ffffff',
        highlightSpotColor: '#ffffff',
        tooltipChartTitle: 'Earning',
        tooltipPrefix :'$ ',
        spotColor:'#ffffff',
        valueSpots : {
            '0:': '#ffffff'
        }
    });*/

    // Visitor chart ( Sparkline chart )
    // =================================================================
    // Require Sparkline Chart
    // -----------------------------------------------------------------
    // http://omnipotent.net/jquery.sparkline/#s-about
    // =================================================================
    $("#demo-chart-visitors").sparkline([476,643,356,453,745,976,867,886,984,645,767,799], {
        type: 'line',
        width: '110',
        height: '22',
        spotRadius: 3,
        lineWidth:1,
        lineColor:'rgba(255,255,255,.9)',
        fillColor: 'rgba(0,0,0,0.05)',
        spotColor: 'rgba(255,255,255,.5)',
        minSpotColor: 'rgba(255,255,255,.5)',
        maxSpotColor: 'rgba(255,255,255,.5)',
        highlightLineColor : '#ffffff',
        highlightSpotColor: '#ffffff',
        tooltipChartTitle: 'Visitors',
        tooltipSuffix:' k',
    });





    // Bounce rate chart ( Sparkline chart )
    // =================================================================
    // Require Sparkline Chart
    // -----------------------------------------------------------------
    // http://omnipotent.net/jquery.sparkline/#s-about
    // =================================================================
    $("#demo-chart-bounce-rate").sparkline([23,24,22,27,35,40,39,29,27,33,29,37], {
        type: 'line',
        width: '110',
        height: '22',
        spotRadius: 3,
        lineWidth:1,
        lineColor:'rgba(255,255,255,.9)',
        fillColor: 'rgba(0,0,0,0.05)',
        spotColor: 'rgba(255,255,255,.5)',
        minSpotColor: 'rgba(255,255,255,.5)',
        maxSpotColor: 'rgba(255,255,255,.5)',
        highlightLineColor : '#ffffff',
        highlightSpotColor: '#ffffff',
        tooltipChartTitle: 'Bounce rate',
        tooltipSuffix:' %'

    });

    $(function () {

            var day_data = [
            {"elapsed": "2013 - 01", "value": 24, b:2},
            {"elapsed": "2013 - 02", "value": 34, b:22},
            {"elapsed": "2013 - 03", "value": 33, b:7},
            {"elapsed": "2013 - 04", "value": 22, b:6},
            {"elapsed": "2013 - 05", "value": 28, b:17},
            {"elapsed": "2013 - 06", "value": 60, b:15},
            {"elapsed": "2013 - 07", "value": 60, b:17},
            {"elapsed": "2013 - 08", "value": 70, b:7},
            {"elapsed": "2013 - 09", "value": 67, b:18},
            {"elapsed": "2013 - 10", "value": 86, b: 18},
            {"elapsed": "2013 - 11", "value": 86, b: 18},
            {"elapsed": "2013 - 12", "value": 113, b: 29},
            {"elapsed": "2014 - 01", "value": 130, b: 23},
            {"elapsed": "2014 - 02", "value": 114, b:10},
            {"elapsed": "2014 - 03", "value": 80, b:22},
            {"elapsed": "2014 - 04", "value": 109, b:7},
            {"elapsed": "2014 - 05", "value": 100, b:6},
            {"elapsed": "2014 - 06", "value": 105, b:17},
            {"elapsed": "2014 - 07", "value": 110, b:15},
            {"elapsed": "2014 - 08", "value": 102, b:17},
            {"elapsed": "2014 - 09", "value": 107, b:7},
            {"elapsed": "2014 - 10", "value": 60, b:18},
            {"elapsed": "2014 - 11", "value": 67, b: 18},
            {"elapsed": "2014 - 12", "value": 76, b: 18},
            {"elapsed": "2015 - 01", "value": 73, b: 29},
            {"elapsed": "2015 - 02", "value": 94, b: 13},
            {"elapsed": "2015 - 03", "value": 79, b: 24}
        ];

        var chart = Morris.Area({
            element: 'morris-chart-network',
            data: day_data,
            axes:false,
            xkey: 'elapsed',
            ykeys: ['value', 'b'],
            labels: ['Download Speed', 'Upload Speed'],
            yLabelFormat :function (y) { return y.toString() + ' Mb/s'; },
            gridEnabled: false,
            gridLineColor: 'transparent',
            lineColors: ['#8eb5e3','#1b72bc'],
            lineWidth:0,
            pointSize:0,
            pointFillColors:['#3e80bd'],
            pointStrokeColors:'#3e80bd',
            fillOpacity:.7,
            gridTextColor:'#999',
            parseTime: false,
            resize:true,
            behaveLikeLine : true,
            hideHover: 'auto'
        });

    });

    /*$(".dropdown").hover(            
            function() {
                $('.dropdown-menu', this).not('.in .dropdown-menu').stop( true, true ).slideDown("fast");
                $(this).toggleClass('open');        
            },
            function() {
                $('.dropdown-menu', this).not('.in .dropdown-menu').stop( true, true ).slideUp("fast");
                $(this).toggleClass('open');       
            }
        );*/
</script>